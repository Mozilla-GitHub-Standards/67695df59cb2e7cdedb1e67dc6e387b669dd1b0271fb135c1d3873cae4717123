<?xml version="1.0" encoding="UTF-8"?>
<!--
# ***** BEGIN LICENSE BLOCK *****
# Version: MPL 1.1/GPL 2.0/LGPL 2.1
#
# The contents of this file are subject to the Mozilla Public License Version
# 1.1 (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
# http://www.mozilla.org/MPL/
#
# Software distributed under the License is distributed on an "AS IS" basis,
# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
# for the specific language governing rights and limitations under the
# License.
#
# The Original Code is Syncorro.
#
# The Initial Developer of the Original Code is
# the Mozilla Foundation.
# Portions created by the Initial Developer are Copyright (C) 2011
# the Initial Developer. All Rights Reserved.
#
# Contributor(s):
#   Philipp von Weitershausen <philipp@weitershausen.de>
#
# Alternatively, the contents of this file may be used under the terms of
# either the GNU General Public License Version 2 or later (the "GPL"), or
# the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
# in which case the provisions of the GPL or the LGPL are applicable instead
# of those above. If you wish to allow use of your version of this file only
# under the terms of either the GPL or the LGPL, and not to allow others to
# use your version of this file under the terms of the MPL, indicate your
# decision by deleting the provisions above and replace them with the notice
# and other provisions required by the GPL or the LGPL. If you do not delete
# the provisions above, a recipient may use your version of this file under
# the terms of any one of the MPL, the GPL or the LGPL.
#
# ***** END LICENSE BLOCK *****
-->

<!DOCTYPE html [
  <!ENTITY % htmlDTD
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
  %htmlDTD;
  <!ENTITY % globalDTD
    SYSTEM "chrome://global/locale/global.dtd">
  %globalDTD;
]>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<style type="text/css">
:root {
  font-family: sans-serif;
}
table {
  padding-bottom: 2em;
}
th {
  text-align: left;
  white-space: nowrap;
}
th[chromedir="rtl"] {
  text-align: right;
}
/* name */
th:first-child {
  -moz-padding-end: 2em;
}
:link, :visited {
  display: block;
  min-height: 17px;
}
/* date */
td:first-child + td {
  -moz-padding-start: 1em;
  -moz-padding-end: .5em;
  white-space: nowrap;
}
/* time */
td:last-child {
  -moz-padding-start: .5em;
  white-space: nowrap;
}

#clear-reports {
  float: right;
}
#clear-reports[chromedir="rtl"] {
  float: left;
}

.submitting {
  background-image: url(chrome://global/skin/icons/loading_16.png);
  background-repeat: no-repeat;
  background-position: right;
}
</style>
<title>Sync Error Reports</title>
</head>
<link rel="stylesheet" media="screen, projection" type="text/css"
      href="chrome://global/skin/dirListing/dirListing.css"/>
<script type="application/javascript;version=1.8"
        src="chrome://syncorro/content/aboutSyncorro.js"/>
<body onload="AboutSyncorro.init()" dir="&locale.dir;">
<button chromedir="&locale.dir;"
        id="clear-reports"
        onclick="AboutSyncorro.clearReports()">Remove All Reports</button>

<h1>Sync Error Reports</h1>

<div id="list.reports" style="/*display: none*/">
  <table id="list.reports.table">
    <thead>
      <tr>
        <th chromedir="&locale.dir;">Reports</th>
        <th chromedir="&locale.dir;" colspan="2">Date</th>
      </tr>
    </thead>
    <tbody id="tbody">
    </tbody>
  </table>
<p id="list.reports.noReports" style="display: none">Oh noez, there are no reportz.</p>
<p id="list.reports.noConfig" style="display: none">Syncorro is turned off.</p>
</div>

<div id="overview.report" style="/*display: none*/">

<h2>Details for Sync problem on <span id="overview.report.date"/>
<span id="overview.report.time"/></h2>

<p id="overview.report.notSubmittedYet">To help Mozilla improve Sync
and prevent errors like this in the future, please submit this
report. Your personal data will not be submitted.</p>

<p id="overview.report.submitted">Firefox submitted a report of the
problem to Mozilla.</p>

<p id="overview.report.solutionFound">Good news! Firefox submitted a
report of the problem to Mozilla and a possible solution was found.
<a id="viewSupportPage" href="">View support page</a></p>

<p>
  <input type="checkbox"
         id="overview.report.autoSubmit"
         value="true"
         checked="checked"/>
  <label for="overview.report.autoSubmit">Automatically submit reports
  in the future</label>
</p>

<button chromedir="&locale.dir;"
        id="overview.report.submitButton"
        onclick="AboutSyncorro.submitReport();">Submit report</button>

<h3 onclick="AboutSyncorro.toggle('reportFull')">Full report</h3>

<div id="full.report">

<p>Report ID: <span id="full.report.uuid"/></p>

<h4 onclick="AboutSyncorro.toggle('full.report.app')">Application details</h4>

<table id="full.report.app">
  <tr>
    <td>Application</td>
    <td id="full.report.app.product"></td>
  </tr>
  <tr>
    <td>Version</td>
    <td id="full.report.app.version"></td>
  </tr>
  <tr>
    <td>Build ID</td>
    <td id="full.report.app.buildID"></td>
  </tr>
  <tr>
    <td>Locale</td>
    <td id="full.report.app.locale"></td>
  </tr>
  <tr>
    <td>Add-ons</td>
    <td id="full.report.app.addons"></td>
  </tr>
</table>

<h4 onclick="AboutSyncorro.toggle('full.report.sync')">Sync account info</h4>

<table id="full.report.sync">
  <tr>
    <td>Version</td>
    <td id="full.report.sync.version"></td>
  </tr>
  <tr>
    <td>Account</td>
    <td id="full.report.sync.account"></td>
  </tr>
  <tr>
    <td>Node</td>
    <td id="full.report.sync.cluster"></td>
  </tr>
  <tr>
    <td>Enabled engines</td>
    <td id="full.report.sync.engines"></td>
  </tr>
  <tr>
    <td>Number of engines</td>
    <td id="full.report.sync.numClients"></td>
  </tr>
  <tr>
    <td>Mobile clients</td>
    <td id="full.report.sync.hasMobile"></td>
  </tr>
</table>

<h4 onclick="AboutSyncorro.toggle('full.report.error')">Error fingerprint</h4>

<div id="full.report.error">
</div>

<h4 onclick="AboutSyncorro.toggle('full.report.log')">Log</h4>

<pre id="full.report.log">
</pre>

</div>

</div>

</body>
</html>
